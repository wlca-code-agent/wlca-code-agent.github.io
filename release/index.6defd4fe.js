let e;const t=document.getElementById("header"),o=new Map;let l=!1;document.querySelectorAll(".nav-bar ul li").forEach(e=>{let i=e.querySelector("a")?.getAttribute("href")?.substring(1);if(!i)return;let n=document.getElementById(i);n&&(o.set(n,e),e.addEventListener("click",o=>{o.preventDefault(),r(e),l=!0,window.scrollTo({top:n.offsetTop-t.offsetHeight,behavior:"smooth"}),setTimeout(()=>{l=!1},800)}))});const r=t=>{t!=e&&(e?.classList.remove("active"),t?.classList.add("active"),e=t)},i=e=>{let i;let n=window.scrollY,s=Math.max(0,Math.min(1,(n-10)/(t.offsetHeight-10)));if(t.style.backgroundColor=`rgba(0, 0, 0, ${s})`,e&&(l=!1),l)return;let a=!0,f=n+window.innerHeight;for(let[e,l]of o.entries()){let o=e.offsetTop-t.offsetHeight,r=o+e.offsetHeight;if(a&&n<=o-50||n<=r+2&&f>=o-2&&(i=l,f>=r-2))break;a&&(a=!1)}r(i)};window.addEventListener("scroll",()=>{i()}),i();